--- a/curs_main.c	2004-06-28 04:57:39.000000000 +0200
+++ b/curs_main.c	2004-06-28 04:57:49.000000000 +0200
@@ -576,10 +576,6 @@
 	move (menu->current - menu->top + menu->offset, COLS - 1);
       mutt_refresh ();
 
-      op = km_dokey (MENU_MAIN);
-
-      dprint(4, (debugfile, "mutt_index_menu[%d]: Got op %d\n", __LINE__, op));
-
 #if defined (USE_SLANG_CURSES) || defined (HAVE_RESIZETERM)
       if (SigWinch)
       {
@@ -598,6 +594,10 @@
       }
 #endif
 
+      op = km_dokey (MENU_MAIN);
+
+      dprint(4, (debugfile, "mutt_index_menu[%d]: Got op %d\n", __LINE__, op));
+
       if (op == -1)
 	continue; /* either user abort or timeout */
       
